<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类、源文件、包、jar、模块、工程 | LWG Study</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.2.2">
    <link rel="preload stylesheet" href="/assets/style.ru6fHfS6.css" as="style">
    
    <script type="module" src="/assets/app.BhxXKgYK.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C70_P7hw.js">
    <link rel="modulepreload" href="/assets/chunks/theme.BpEB4cZC.js">
    <link rel="modulepreload" href="/assets/JAVA_基础_chapter10.md.CgD2EtbK.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bf403e95><!--[--><!--]--><!--[--><span tabindex="-1" data-v-1c5a89bd></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-1c5a89bd> Skip to content </a><!--]--><!----><header class="VPNav" data-v-bf403e95 data-v-5d51f9b9><div class="VPNavBar has-sidebar top" data-v-5d51f9b9 data-v-46bc1d00><div class="wrapper" data-v-46bc1d00><div class="container" data-v-46bc1d00><div class="title" data-v-46bc1d00><div class="VPNavBarTitle has-sidebar" data-v-46bc1d00 data-v-4bb1af6f><a class="title" href="/" data-v-4bb1af6f><!--[--><!--]--><!----><span data-v-4bb1af6f>LWG Study</span><!--[--><!--]--></a></div></div><div class="content" data-v-46bc1d00><div class="content-body" data-v-46bc1d00><!--[--><!--]--><div class="VPNavBarSearch search" data-v-46bc1d00><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-46bc1d00 data-v-b71c1798><span id="main-nav-aria-label" class="visually-hidden" data-v-b71c1798>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/SpringBoot/chapter1.html" tabindex="0" data-v-b71c1798 data-v-5a301c13><!--[--><span data-v-5a301c13>SpringBoot</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/DATABASE/MySQL/chap00.html" tabindex="0" data-v-b71c1798 data-v-5a301c13><!--[--><span data-v-5a301c13>DATABASE</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter1.html" tabindex="0" data-v-b71c1798 data-v-5a301c13><!--[--><span data-v-5a301c13>JAVA</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-46bc1d00 data-v-583f7be7><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-583f7be7 data-v-366ae653 data-v-46fdce64><span class="check" data-v-46fdce64><span class="icon" data-v-46fdce64><!--[--><span class="vpi-sun sun" data-v-366ae653></span><span class="vpi-moon moon" data-v-366ae653></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-46bc1d00 data-v-c1ddac85 data-v-1c05cfa7><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/gasj0ee/java_No1_knowledge/tree/master/" aria-label="github" target="_blank" rel="noopener" data-v-1c05cfa7 data-v-f4be3c87><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-46bc1d00 data-v-16ac573a data-v-f7c62dd4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-f7c62dd4><span class="vpi-more-horizontal icon" data-v-f7c62dd4></span></button><div class="menu" data-v-f7c62dd4><div class="VPMenu" data-v-f7c62dd4 data-v-309b610c><!----><!--[--><!--[--><!----><div class="group" data-v-16ac573a><div class="item appearance" data-v-16ac573a><p class="label" data-v-16ac573a>Appearance</p><div class="appearance-action" data-v-16ac573a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-16ac573a data-v-366ae653 data-v-46fdce64><span class="check" data-v-46fdce64><span class="icon" data-v-46fdce64><!--[--><span class="vpi-sun sun" data-v-366ae653></span><span class="vpi-moon moon" data-v-366ae653></span><!--]--></span></span></button></div></div></div><div class="group" data-v-16ac573a><div class="item social-links" data-v-16ac573a><div class="VPSocialLinks social-links-list" data-v-16ac573a data-v-1c05cfa7><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/gasj0ee/java_No1_knowledge/tree/master/" aria-label="github" target="_blank" rel="noopener" data-v-1c05cfa7 data-v-f4be3c87><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-46bc1d00 data-v-04513a86><span class="container" data-v-04513a86><span class="top" data-v-04513a86></span><span class="middle" data-v-04513a86></span><span class="bottom" data-v-04513a86></span></span></button></div></div></div></div><div class="divider" data-v-46bc1d00><div class="divider-line" data-v-46bc1d00></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-bf403e95 data-v-206e55a3><div class="container" data-v-206e55a3><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-206e55a3><span class="vpi-align-left menu-icon" data-v-206e55a3></span><span class="menu-text" data-v-206e55a3>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-206e55a3 data-v-501b643f><button data-v-501b643f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-bf403e95 data-v-98e42a8e><div class="curtain" data-v-98e42a8e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-98e42a8e><span class="visually-hidden" id="sidebar-aria-label" data-v-98e42a8e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-98e42a8e><section class="VPSidebarItem level-0 collapsible" data-v-98e42a8e data-v-e16b36d7><div class="item" role="button" tabindex="0" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><h2 class="text" data-v-e16b36d7>集合框架</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e16b36d7><span class="vpi-chevron-right caret-icon" data-v-e16b36d7></span></div></div><div class="items" data-v-e16b36d7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/Collection-ArrayList.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>ArrayList源码解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/Collection_ArrayDeque.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>Stack & Queue (采用 ArrayDeque 实现)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/Collection_LinkedList.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>Collection - LinkedList 源码解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/Collection_PriorityQueue.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>PriorityQueue 源码解析</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-98e42a8e><section class="VPSidebarItem level-0 collapsible has-active" data-v-98e42a8e data-v-e16b36d7><div class="item" role="button" tabindex="0" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><h2 class="text" data-v-e16b36d7>基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e16b36d7><span class="vpi-chevron-right caret-icon" data-v-e16b36d7></span></div></div><div class="items" data-v-e16b36d7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter1.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>Java 简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter10.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>类、源文件、包、jar、模块、工程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter11.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>反射</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter12.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>异常和断言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter13.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>日志</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter14.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>集合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter2.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>Java 基本程序设计结构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter3.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter4.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>接口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter5.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>lambda表达式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter6.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>内部类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter7.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>代理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter8.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>泛型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e16b36d7 data-v-e16b36d7><div class="item" data-v-e16b36d7><div class="indicator" data-v-e16b36d7></div><a class="VPLink link link" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter9.html" data-v-e16b36d7><!--[--><p class="text" data-v-e16b36d7>关键字</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-bf403e95 data-v-b3d11645><div class="VPDoc has-sidebar has-aside" data-v-b3d11645 data-v-95d215ae><!--[--><!--]--><div class="container" data-v-95d215ae><div class="aside" data-v-95d215ae><div class="aside-curtain" data-v-95d215ae></div><div class="aside-container" data-v-95d215ae><div class="aside-content" data-v-95d215ae><div class="VPDocAside" data-v-95d215ae data-v-0148090c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-0148090c data-v-92f2a883><div class="content" data-v-92f2a883><div class="outline-marker" data-v-92f2a883></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-92f2a883>On this page</div><ul class="VPDocOutlineItem root" data-v-92f2a883 data-v-2afd1398><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-0148090c></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-95d215ae><div class="content-container" data-v-95d215ae><!--[--><!--]--><main class="main" data-v-95d215ae><div style="position:relative;" class="vp-doc _JAVA_%E5%9F%BA%E7%A1%80_chapter10" data-v-95d215ae><div><h1 id="类、源文件、包、jar、模块、工程" tabindex="-1">类、源文件、包、jar、模块、工程 <a class="header-anchor" href="#类、源文件、包、jar、模块、工程" aria-label="Permalink to &quot;类、源文件、包、jar、模块、工程&quot;">​</a></h1><h2 id="源文件与类" tabindex="-1">源文件与类 <a class="header-anchor" href="#源文件与类" aria-label="Permalink to &quot;源文件与类&quot;">​</a></h2><h3 id="源文件中导入类" tabindex="-1">源文件中导入类 <a class="header-anchor" href="#源文件中导入类" aria-label="Permalink to &quot;源文件中导入类&quot;">​</a></h3><p>import语句用于导入类。类名必须是完整的，即包含完整包名的类名。</p><p>==java.lang包中的所有类总是会被默认导入。==</p><h3 id="导入静态方法和字段" tabindex="-1">导入静态方法和字段 <a class="header-anchor" href="#导入静态方法和字段" aria-label="Permalink to &quot;导入静态方法和字段&quot;">​</a></h3><p>静态导入即导入类中的静态方法和静态字段。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.lang.System.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//导入所有静态方法和静态字段</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.lang.System.out; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 导入特定的静态字段</span></span></code></pre></div><h3 id="源文件与类的关系" tabindex="-1">源文件与类的关系 <a class="header-anchor" href="#源文件与类的关系" aria-label="Permalink to &quot;源文件与类的关系&quot;">​</a></h3><p>1、一个源文件中必须有且只能有一个与源文件同名的类。这个类可以不是<code>public</code>类，但是<code>public</code>类必须与源文件同名。</p><p>每个类都可以有一个<code>main</code>方法，可以选择运行不同类的<code>main</code>方法。</p><p>（1）如果一个源文件有多个类，那么在IDEA中，可以看到该源文件为<code>EmployeeTest.java</code>，它的子目录是该源文件下的两个类：<code>EmployeeTest</code>和<code>Employee</code>。</p><p>（2）如果一个源文件只有一个类，那么在IDEA中，可以看到两个源文件<code>Employee</code>和<code>EmployeeTest</code>，它们都没有后缀<code>.java</code>。</p><p>如果利用<code>javac</code>命令编译源文件，则所有的类都会被编译，所有类的<code>.class</code>文件都会位于同一目录下。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.time.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EmployeeTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] staff </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        staff[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Carl Cracker&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">75000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1987</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        staff[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Harry Hacker&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1989</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        staff[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Tony Tester&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1990</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Employee e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> staff){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raiseSalary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Employee e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> staff){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;, salary=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSalary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;, hireDay=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHireDay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String name;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> salary;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LocalDate hireDay;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">double</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> month</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> day</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        salary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        hireDay </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LocalDate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(year, month, day);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> double</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getSalary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> salary;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LocalDate </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHireDay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hireDay;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> raiseSalary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">double</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> byPercent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> raise </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> salary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> byPercent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        salary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> raise;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>2、如果每个类对应一个源文件，只要它们在同一个包中，那么利用<code>javac</code>命令编译某个源文件，则所有的源文件都会被编译，并且各个类的<code>.class</code>文件会位于相同目录下。</p><p>注意几点：</p><p>（1）首先要进入基目录下。基目录就是包所在的目录（不要进入包目录内部）。</p><p>（2）然后执行<code>javac</code>命令进行编译。<code>javac</code>命令后面的java文件目录是”包目录\java文件“。</p><p>（3）最后执行<code>java</code>命令运行java类。<code>java</code>命令后面的类名是”包名.类名“。</p><p>如果不进入基目录，那么大概率会出错，因为找不到依赖的类。</p><h2 id="包" tabindex="-1">包 <a class="header-anchor" href="#包" aria-label="Permalink to &quot;包&quot;">​</a></h2><p>可以使用包（package）将类组织在一个集合中。使用包的主要原因是确保类名的唯一性。</p><p>每一个包都是独立的类集合。从编译器的角度看，嵌套的包没有任何关系。例如<code>java.util</code>和<code>java.util.jar</code>包毫无关系。</p><p>一个包可以使用所属包中的所有类，以及其他包中的公共类。</p><p>在包中定位类是编译器的工作。类文件中的字节码总是使用完整的包名引用其他类。</p><h3 id="导入包" tabindex="-1">导入包 <a class="header-anchor" href="#导入包" aria-label="Permalink to &quot;导入包&quot;">​</a></h3><p>看第4章。</p><p>当使用的类不是定义在基本包<code>java.lang</code>中时，一定要使用<code>import</code>指令导入相应的包。</p><h3 id="命名冲突" tabindex="-1">命名冲突 <a class="header-anchor" href="#命名冲突" aria-label="Permalink to &quot;命名冲突&quot;">​</a></h3><p>如果导入的两个包中具有同名类，例如<code>java.util</code>和<code>java.sql</code>包都有<code>Date</code>类，那么使用<code>Date</code>类时为了避免命名冲突，有两种方法：（1）增加一个特定的<code>import</code>语句；（2）代码中写出完整的类名。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.sql.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.Date;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> deadline </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 方法(1)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> today </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.sql.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(...); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 方法(2)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	...</span></span></code></pre></div><h3 id="在包中增加类" tabindex="-1">在包中增加类 <a class="header-anchor" href="#在包中增加类" aria-label="Permalink to &quot;在包中增加类&quot;">​</a></h3><p>要想将类放入包中，就必须将包的名字放在源文件的开头。包名应该与类目录严格匹配。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.corejava;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span></code></pre></div><p>如果在以<code>java.</code>开头的包中添加我们自定义的类，是不是就可以访问java原生类的默认修饰符的方法和字段了？</p><p>1、java明确禁止加载包名以<code>java.</code>开头的用户自定义的类。</p><p>2、让JAR文件声明包时密封的，以防止第三方修改。</p><p>3、前两种机制已经过时了，现在应当使用模块封装包。</p><h3 id="编译源文件时不检查目录结构" tabindex="-1">编译源文件时不检查目录结构 <a class="header-anchor" href="#编译源文件时不检查目录结构" aria-label="Permalink to &quot;编译源文件时不检查目录结构&quot;">​</a></h3><p>编译器在编译源文件时不检查目录结构。</p><p>考虑这样的情况：某个包只对应一个源文件，即包中所有的类都在同一个源文件中。</p><p>1、那么，即使这个源文件的真实目录并不是包名对应的目录，仍然会编译成功。</p><p>编译结果是：在真实目录下生成各个类的<code>.class</code>文件。</p><p>如果包中的类不在同一个源文件中，那么当对某个源文件执行<code>javac</code>命令进行编译时，会报错，因为找不到依赖的其他类（源文件）。除非&quot;该文件的所有类&quot;都没有引用&quot;其他源文件的类&quot;，这样就只会生成该源文件中各个类的<code>.class</code>文件。</p><p>2、但是，当执行<code>java</code>命令运行时，虚拟机是从包名对应的目录中去找<code>.class</code>文件的，所以运行会出错。除非将所有类文件移动到包名对应的目录下。</p><h3 id="无名包" tabindex="-1">无名包 <a class="header-anchor" href="#无名包" aria-label="Permalink to &quot;无名包&quot;">​</a></h3><p>如果没有在源文件中放置package语句，那么这个源文件中的类就属于无名包，即没有包名。</p><h2 id="类路径" tabindex="-1">类路径 <a class="header-anchor" href="#类路径" aria-label="Permalink to &quot;类路径&quot;">​</a></h2><p>类的路径必须与包名匹配。类文件就是<code>.class</code>文件。</p><p>为了使类能够被多个程序共享，一般需要做到以下几点：</p><p>1、把所有类文件放到同一个目录中，例如<code>/home/user/classdir</code>。这个目录是包树状结构的基目录，例如对于类<code>TestEmployee.EmployeeTest</code>，其类文件<code>EmployeeTest.class</code>的路径应当为<code>/home/user/classdir/TestEmployee/EmployeeTest.class</code>。</p><p>2、把所有jar文件放在同一目录下，例如<code>/home/user/archives</code>。</p><p>3、设置类路径。如果没有设置类路径，那么默认的类路径会包含<code>.</code>目录（当前目录）。</p><p>（1）在UNIX环境中，各项类路径之间用冒号<code>:</code>分隔，用点号<code>.</code>表示当前目录。例如<code>/home/user/classdir:.:/home/user/archives/&#39;*&#39;</code>。其中<code>*</code>是通配符，但必须转义以防止shell扩展。</p><p>（2）在Windows环境中，各项类路径之间用冒号<code>;</code>分隔，用点号<code>.</code>表示当前目录。例如<code>C:\classdir;.;C:\archives\*</code>。其中<code>*</code>是通配符。</p><h3 id="编译器查找类" tabindex="-1">编译器查找类 <a class="header-anchor" href="#编译器查找类" aria-label="Permalink to &quot;编译器查找类&quot;">​</a></h3><p>javac编译器查找类要比虚拟机复杂得多。如果引用了一个类<code>Employee</code>，而没有指定这个类的包，那么编译器将首先查找包含这个类的包。</p><p>1、首先查看所有的<code>import</code>指令，确定其中是否包含这个类。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.corejava.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>1、编译器会依次查找以下几个类（查找目标）：<code>java.lang.Employee</code>、<code>java.util.Employee</code>、<code>com.corejava.Employee</code>、当前包中的<code>Employee</code>。查找路径则是类路径中定义的所有位置。</p><p>（1）对于当前包来说，编译器会查找所有的源文件，查看哪个源文件定义了这个类。</p><p>（2）编译器总是会在当前目录中查找文件。</p><p>2、如果找到了一个以上的类，就会产生编译时错误，因为完全限定类名必须是唯一的。</p><p>3、找到了类之后，还要查看源文件是否比类文件新。如果是，那么源文件就会被自动地重新编译，生成最新的<code>.class</code>文件。</p><h3 id="虚拟机查找类文件" tabindex="-1">虚拟机查找类文件 <a class="header-anchor" href="#虚拟机查找类文件" aria-label="Permalink to &quot;虚拟机查找类文件&quot;">​</a></h3><p>类路径所列出的目录和jar文件是搜寻类的起始点，假设类路径被设置为<code>/home/user/classdir:.:/home/user/archives/archives.jar</code>，现在虚拟机要搜寻类<code>TestEmployee.EmployeeTest</code>：</p><p>1、首先查看java API类。</p><p>2、找不到就查看类路径。首先查找<code>/home/user/classdir/TestEmployee/EmployeeTest.class</code>文件。</p><p>3、找不到就查找<code>./TestEmployee/EmployeeTest.class</code>文件。</p><p>注意：java虚拟机仅在类路径中包含<code>.</code>目录时才查看当前目录。如果没有设置类路径，因为默认类路径会包含当前目录<code>.</code>，所以没有什么问题。但如果设置了类路径而忘记包含当前目录<code>.</code>了，那么尽管可以编译通过，却不能运行。</p><p>4、找不到就查找<code>/home/user/archives/archives.jar/TestEmployee/EmployeeTest.class</code>文件。</p><h3 id="设置类路径" tabindex="-1">设置类路径 <a class="header-anchor" href="#设置类路径" aria-label="Permalink to &quot;设置类路径&quot;">​</a></h3><p>在使用<code>java</code>命令运行java程序时：</p><p>（1）可以增加<code>-classpath</code>（或<code>-cp</code>、或<code>-class-path</code>）选项来指定类路径。</p><p>（2）也可以设置<code>CLASSPATH</code>环境变量来指定类路径。具体细节依赖于所使用的shell。直到退出为止，类路径设置均有效。</p><h2 id="jar文件" tabindex="-1">jar文件 <a class="header-anchor" href="#jar文件" aria-label="Permalink to &quot;jar文件&quot;">​</a></h2><p>一个jar文件中，可以包含多个压缩形式的类文件和子目录，这样既可以节省空间又可以改善性能。</p><h3 id="应用程序打包" tabindex="-1">应用程序打包 <a class="header-anchor" href="#应用程序打包" aria-label="Permalink to &quot;应用程序打包&quot;">​</a></h3><p>将应用程序打包时，我们希望只向用户提供一个单独的文件，而不是一个包含大量类文件的目录结构，jar文件就是为此目的设计的。</p><p>一个jar文件既可以包含类文件，也可以包含诸如图像和声音等其他类型的文件。</p><p>jar文件使用zip格式组织文件和子目录。</p><p>可以使用jar工具制作jar文件。jar工具在默认的jdk安装包中，目录位于jdk/bin。</p><p>以下是jar命令的选项：</p><p><img src="/assets/chap10_1.CW5QI-4z.png" alt="jar程序选项"></p><p><img src="/assets/chap10_2.swgepkRE.png" alt="jar程序选项"></p><h4 id="清单文件" tabindex="-1">清单文件 <a class="header-anchor" href="#清单文件" aria-label="Permalink to &quot;清单文件&quot;">​</a></h4><p>除了类文件、图像和其他资源外，每个jar文件还包含一个清单文件<code>META-INF/MANIFEST.MF</code>，用于描述归档文件的特殊特性。</p><p>1、清单文件格式</p><p>符合标准的最小清单文件极其简单：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Manifest-Version: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span></span></code></pre></div><p>复杂的清单文件可能包含更多条目。这些清单条目被分成多个节，节与节之间用空行分开。</p><p>第一节称为主节，作用于整个jar文件。</p><p>随后的条目用来指定命名实体的属性，如单个文件、包或者url，它们都必须以一个Name条目开始。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Manifest-Version: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name: Woozle.class</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name: com/mycompany/mypkg/</span></span></code></pre></div><p>2、创建包含清单文件的jar文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cfm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyArchive.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest.mf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com/mycompany/mypkg/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.class</span></span></code></pre></div><p>这行命令相当于三行命令：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将所有.class文件打包到.jar文件中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyArchive.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com/mycompany/mypkg/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.class</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将清单文件添加到.jar文件中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyArchive.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest.mf</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 为.jar文件添加清单信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyArchive.jar</span></span></code></pre></div><p>3、编辑清单文件</p><p>要想编辑文件，需要将希望添加到清单文件中的行放到文本文件<code>manifestFileName</code>中，然后运行：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cfm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jarFileName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifestFileName</span></span></code></pre></div><p>4、更新.jar文件的清单</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyArchive.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest-additions.mf</span></span></code></pre></div><h2 id="模块" tabindex="-1">模块 <a class="header-anchor" href="#模块" aria-label="Permalink to &quot;模块&quot;">​</a></h2><p>多个现有的java模块系统都依赖于类加载器来实现类之间的隔离。但是，java 9引入了一个由java编译器和虚拟机支持的新系统，称为java平台模块系统。模块使类和包可以有选择性地获取，从而使得模块地演化可以受控。</p><p>包是类的集合，包和类一样，也提供了一种封装级别，具有包访问权限的所有特性（无论是公有的还是私有的）都只能被同一个包中的方法访问。但是，在大型系统中，这种级别的访问控制仍显不足。所有公有特性（即在包的外部也可以访问的特性）可以从任何地方访问。假设我们想要修改或剔除一个很少使用的特性，如果它是公有的，那么就没有办法推断这个变化所产生的影响。</p><p>一个java平台模块包括：</p><p>（1）一个包集合；（2）可选的包含资源文件和像本地库这样的其他文件；（3）一个有关模块中可访问的包的列表；（4）一个有关这个模块依赖的所有其他模块的列表。</p><p>java平台在编译时和在虚拟机中都强制执行封装和依赖。</p><h3 id="模块的命名" tabindex="-1">模块的命名 <a class="header-anchor" href="#模块的命名" aria-label="Permalink to &quot;模块的命名&quot;">​</a></h3><p>1、模块是包的集合，==模块中的包名无须彼此相关==，并且模块名和包名相同也是完全可行的。例如，<code>java.sql</code>模块中就包含了<code>java.sql</code>、<code>javax.sql</code>、<code>javax.transaction.xa</code>这几个包。</p><p>2、按照惯例，包的基目录一般都是模块名。</p><p>2、模块名和路径名一样，是由字母、数字、下划线、句点构成的。而且，和路径名一样，==模块之间没有任何层次关系==。例如有一个模块是<code>com.horstmann</code>，另一个模块是<code>com.horstmann.corejava</code>，那么就模块系统而言，它们是无关的。</p><p>3、当创建供他人使用的模块时，重要的是确保==模块的名字应该是全局唯一的==。</p><p>4、==模块名只用于模块声明中，在java类的源文件中只能引用包名而不能引用模块名==。</p><p>5、不具名的包不能包含在模块中。</p><p>6、模块没有作用域的概念，因此不能在不同的模块中放置两个具有相同名字的包。即使是隐藏的包（不会导出的包）也是如此。</p><h3 id="模块化的程序" tabindex="-1">模块化的程序 <a class="header-anchor" href="#模块化的程序" aria-label="Permalink to &quot;模块化的程序&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.hello;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloWorld</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, Modular World!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>为了创建这个包的<code>v2ch09.hellomod</code>模块，需要添加一个模块声明，可以将其置于名为<code>module.info.java</code>的文件中，该文件位于基目录中（即与包含<code>com</code>目录的目录相同）。</p><h4 id="基目录名与模块名相同" tabindex="-1">基目录名与模块名相同 <a class="header-anchor" href="#基目录名与模块名相同" aria-label="Permalink to &quot;基目录名与模块名相同&quot;">​</a></h4><p>按照惯例，基目录的名字与模块名相同。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>v2ch09.hellomod/</span></span>
<span class="line"><span>	module-info.java</span></span>
<span class="line"><span>	com/</span></span>
<span class="line"><span>		horstmann/</span></span>
<span class="line"><span>			hello/</span></span>
<span class="line"><span>				HelloWorld.java</span></span></code></pre></div><p><code>module-info.java</code>就是模块声明文件，该文件内容如下：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.hellomod</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>现在进入<code>v2ch09.hellomod</code>目录的上级目录中，执行以下命令进行编译，这个文件会以二进制文件形式编译到包含该模块定义的类文件<code>module-info.class</code>中。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	v2ch09.hellomod/module-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	v2ch09.hellomod/com/horstmann/hello/HelloWorld.java</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.hellomod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">odule-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.hellomod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">orstmann</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ello</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">elloWorld.java</span></span></code></pre></div><p>第一个<code>.java</code>文件是模块声明文件，第二个<code>.java</code>文件是主类的源文件。</p><p>运行以下命令，将执行这个程序：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	--module-path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	--module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod/com.horstmann.hello.HelloWorld</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod/com.horstmann.hello.HelloWorld</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or (.代表当前目录)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod/com.horstmann.hello.HelloWorld</span></span></code></pre></div><p>其中<code>-p</code>或<code>--module-path</code>选项指定模块路径（也就是模块声明文件所在的目录），<code>-m</code>或<code>--module</code>选项指定主类（&quot;模块名/类名&quot;格式，不能是反斜杠<code>\</code>）。</p><h4 id="基目录名与模块名不同" tabindex="-1">基目录名与模块名不同 <a class="header-anchor" href="#基目录名与模块名不同" aria-label="Permalink to &quot;基目录名与模块名不同&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>anotherModule/</span></span>
<span class="line"><span>	module-info.java</span></span>
<span class="line"><span>	com/</span></span>
<span class="line"><span>		horstmann/</span></span>
<span class="line"><span>			hello/</span></span>
<span class="line"><span>				HelloWorld.java</span></span></code></pre></div><p>现在进入<code>anotherModule</code>目录的上级目录中，执行以下命令进行编译：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	anotherModule/module-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	anotherModule/com/horstmann/hello/HelloWorld.java</span></span></code></pre></div><p>运行以下命令运行程序，其中<code>.</code>表示当前目录：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> anotherModule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod/com.horstmann.hello.HelloWorld</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or (.代表当前目录)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.hellomod/com.horstmann.hello.HelloWorld</span></span></code></pre></div><h3 id="对模块的需求" tabindex="-1">对模块的需求 <a class="header-anchor" href="#对模块的需求" aria-label="Permalink to &quot;对模块的需求&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.hello;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javax.swing.JOptionPane;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloWorld</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        JOptionPane.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showMessageDialog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, Modular World!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>文件结构依然为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>requiredModule/</span></span>
<span class="line"><span>	module-info.java</span></span>
<span class="line"><span>	com/</span></span>
<span class="line"><span>		horstmann/</span></span>
<span class="line"><span>			hello/</span></span>
<span class="line"><span>				HelloWorld.java</span></span></code></pre></div><p>模块声明文件内容如下：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.requiremod</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>现在进入<code>myjava</code>目录下，编译会失败：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">equiredModule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">odule-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">equiredModule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">orstmann</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ello</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">elloWorld.java</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># javax.swing包被声明在java.desktop模块中，但是没有读入java.desktop模块(因为模块声明中没有声明依赖)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> javax.swing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> visible</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">package</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> javax.swing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> declared</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java.desktop,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	but</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.requiremod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> does</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>原因是jdk已经被模块化了，并且<code>javax.swing</code>包现在包含在<code>java.desktop</code>模块中。我们的模块需要声明它依赖于这个模块：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.requiremod{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.desktop;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>现在进入<code>requiredModule</code>目录的上级目录中，输入以下命令：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">equiredModule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">odule-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">equiredModule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">orstmann</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ello</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">elloWorld.java</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requiredModule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.requiremod/com.horstmann.hello.HelloWorld</span></span></code></pre></div><p>模块系统的设计目标之一就是模块需要明确它们的需求，使得虚拟机可以确保在启动程序之前所有的需求都得以满足。在<code>v2ch09.hellomod</code>的例子中，并没有产生明确的需求，这是因为我们只用到了<code>java.lang</code>和<code>java.io</code>包。这些包都包含在默认需要的<code>java.base</code>模块中。</p><p>一般在三种情况下，模块<code>M</code>会读入模块<code>N</code>：（1）<code>M</code>需要<code>N</code>；（2）<code>M</code>需要某个模块，而该模块传递性地需要<code>N</code>；（3）<code>N</code>是<code>M</code>或<code>java.base</code>。</p><h3 id="模块中导出包" tabindex="-1">模块中导出包 <a class="header-anchor" href="#模块中导出包" aria-label="Permalink to &quot;模块中导出包&quot;">​</a></h3><p>一个模块如果想要使用其他模块的包，就必须声明需要该模块。但是，这不会自动使得所需模块中的所有包都可用。</p><p>模块可以使用<code>exports</code>关键词来声明它的那些包可用：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> java</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xml{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javax.xml;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javax.xml.catalog;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javax.xml.datatype;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javax.xml.namespace;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javax.xml.parsers;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>java.xml</code>这个模块让许多包都可用，但是通过不导出其他包（<code>jdk.xml.internal</code>等）而隐藏了它们。</p><p>当包被导出时，它的<code>public</code>成员，在模块的外部也是可以访问的；<code>protected</code>成员，只有在模块外部的子类中是可以访问的。</p><p>当包没有被导出时，该包中即使是公有（<code>public</code>）的类，也无法在模块外部被访问。</p><h4 id="举例" tabindex="-1">举例 <a class="header-anchor" href="#举例" aria-label="Permalink to &quot;举例&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>myjava/</span></span>
<span class="line"><span>	com.horstmann.greet/</span></span>
<span class="line"><span>		module-info.java</span></span>
<span class="line"><span>		com/</span></span>
<span class="line"><span>			horstmann/</span></span>
<span class="line"><span>				greet/</span></span>
<span class="line"><span>					Greeter.java</span></span>
<span class="line"><span>					internal/</span></span>
<span class="line"><span>						GreeterImpl.java</span></span>
<span class="line"><span>	v2ch09.exportedpkg/</span></span>
<span class="line"><span>		module-info.java</span></span>
<span class="line"><span>		com/</span></span>
<span class="line"><span>			horstmann/</span></span>
<span class="line"><span>				hello/</span></span>
<span class="line"><span>					HelloWorld.java</span></span></code></pre></div><p>代码如下：</p><p>公有的<code>Greeter</code>接口在第一个包中：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Greeter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Greeter </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet.internal.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GreeterImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>第二个包有一个实现了该接口的类：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet.internal;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet.Greeter;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GreeterImpl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Greeter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello, &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subject </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>com.horstmann.greet</code>模块会包含这两个包，其模块声明文件为：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.horstmann.greet{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>我们的应用程序将使用<code>Greeter</code>类，应用程序放在<code>com.horstmann.hello</code>包中：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.hello;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet.Greeter;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloWorld</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Greeter greeter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Greeter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(greeter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Modular World&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>应用程序所在的模块声明文件为：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.exportedpkg{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.greet;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>现在，进入<code>myjava</code>目录中，执行以下命令，以编译和运行程序：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 注意复制下面的命令时去掉换行符和制表符,否则会报错</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om.horstmann.greet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">odule-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om.horstmann.greet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">orstmann</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">reet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">reeter.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om.horstmann.greet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">orstmann</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">reet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nternal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">reeterImpl.java</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om.horstmann.greet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.exportedpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">odule-info.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.exportedpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">orstmann</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ello</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">elloWorld.java</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg/com.horstmann.hello.HelloWorld</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 这句会报错</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">com.horstmann.greet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg/com.horstmann.hello.HelloWorld</span></span></code></pre></div><h3 id="模块化的jar" tabindex="-1">模块化的jar <a class="header-anchor" href="#模块化的jar" aria-label="Permalink to &quot;模块化的jar&quot;">​</a></h3><p>模块可以通过将其所有的类都置于一个jar文件而得以部署，其中<code>module-info.class</code>在jar文件的根部。这样的jar文件被称为模块的jar。</p><p>1、如果一个模块中有多个包，可以先使用<code>javac</code>命令的<code>-d</code>选项将所有的类文件置于指定的目录中（在指定目录中，各个类文件在与源文件相同的文件结构中），然后在收集这些类文件时使用<code>jar</code>命令的<code>-C</code>选项来指定类文件所在的目录。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows中使用dir命令查找文件,Linux使用find</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">avas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.java</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	javac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> javas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">om.horstmann.greet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.java</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -cvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myjar.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">avas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myjar.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	-m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.horstmann.greet/com.horstmann.hello.HelloWorld</span></span></code></pre></div><p>创建<code>.jar</code>文件时可以指定主类：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 报错: -e: com.horstmann.hello.HelloWorld: 没有这个文件或目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -cvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myjar.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.horstmann.hello.HelloWorld</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">avas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行成功</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myjar.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.horstmann.hello.HelloWorld</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">avas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><p>如果<code>.jar</code>文件的主类（程序入口点）是一个控制台应用程序，则双击<code>.jar</code>文件看不到什么变化。</p><p>2、如果<code>v2ch09.exportedpkg</code>模块依赖另一个<code>.jar</code>文件中的模块：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myjar.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.exportedpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.java</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.horstmann.hello.HelloWorld</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.exportedpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span></span></code></pre></div><p>然后执行以下命令运行：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .表示当前目录,即v2ch09.exportedpkg.jar的上级目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg</span></span></code></pre></div><p>双击<code>.jar</code>文件无法运行，因为它依赖<code>myjar.jar</code>文件的模块，必须要在命令行中用<code>-p</code>选项指定<code>myjar.jar</code>文件的路径，并且<code>v2ch09.exportedpkg.jar</code>文件要和<code>myjar.jar</code>文件位于同一路径下。</p><p>因为<code>v2ch09.exportedpkg.jar</code>依赖<code>myjar.jar</code>文件，因此双击<code>v2ch09.exportedpkg.jar</code>文件并不会执行它。但是如果<code>v2ch09.exportedpkg.jar</code>文件只依赖<code>java.base</code>模块，则双击该文件会执行。</p><p>3、在创建<code>.jar</code>文件时，可以选择指定版本号。使用<code>--module-version</code>选项，同时在<code>.jar</code>文件名上添加<code>@</code>和版本号：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v2ch09.exportedpkg@1.0.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --module-version</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.horstmann.hello.HelloWorld</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2ch09.exportedpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span></span></code></pre></div><h3 id="模块和反射式访问" tabindex="-1">模块和反射式访问 <a class="header-anchor" href="#模块和反射式访问" aria-label="Permalink to &quot;模块和反射式访问&quot;">​</a></h3><p>在没有引入模块系统之前，我们可以利用反射访问任意类对象，并且对于类中的<code>private</code>字段，可以通过<code>setAccessibale</code>方法设置字段为可访问，然后利用<code>Field.set(Object, Object)</code>方法更改私有字段的值。</p><p>在引入了模块系统之后，我们仍然可以利用反射访问类对象，但仅限于模块中显式导出（利用<code>exports</code>关键字导出，即使这个包没有利用<code>opens</code>关键字修饰）的包中的类，并且对于这些导出包中的类的私有字段，我们是无法通过<code>setAccessibale</code>方法设置字段为可访问的（运行时抛出<code>InaccessibaleObjectException</code>异常），自然也就无法更改私有字段的值了。</p><p>如果在模块声明文件中，一个被<code>exports</code>显式导出的包，又利用<code>opens</code>关键字修饰了，那么对于该包中的类，其私有字段可以利用反射被更改，当然前提是这个类本身被定义为<code>public</code>的。</p><p>1、如果是一个明确模块（不是自动模块，也不是不具名模块，即<code>module-info.class</code>文件在模块路径上的模块）依赖<code>v2ch09.openpkg</code>模块，那么下面的声明意味着：该模块能访问<code>v2ch09.openpkg</code>模块中<code>com.horstmann.places</code>包中的<code>public</code>类，并且能够更改类中的私有字段；如果没有<code>exports</code>声明，那么首先就无法使用<code>com.horstmann.places</code>中的类，但是只要类对象能够被作为方法参数传入，即使不知道它的具体类型，也能够利用反射去访问这个类，并且更改类的私有字段。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.openpkg{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.util;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.places;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    opens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.places;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>2、如果是一个自动模块或不具名模块依赖<code>v2ch09.openpkg</code>模块，那么下面的声明中即使没有<code>exports</code>语句，该模块也能够访问<code>v2ch09.openpkg</code>模块中<code>com.horstmann.places</code>包中的任意<code>public</code>类，并且能够更改类中的私有字段。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.openpkg{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.util;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    opens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.places;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>3、另外，整个模块也可以使用<code>open</code>（注意不是<code>opens</code>）关键字声明，这相当于对模块中的所有包都使用<code>opens</code>关键字（即允许反射式访问但未必导出），一旦模块被声明为<code>open</code>，就不允许在模块声明内再出现<code>opens</code>了：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">open module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.openpkg{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.horstmann.util;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="自动模块" tabindex="-1">自动模块 <a class="header-anchor" href="#自动模块" aria-label="Permalink to &quot;自动模块&quot;">​</a></h3><p>模块路径上没有<code>module-info.class</code>文件的<code>.jar</code>文件被称为自动模块。自动模块具有以下属性：</p><p>（1）自动模块隐式地包含对其他明确模块的<code>requires</code>子句，并且对于明确模块中没有导出的包，该自动模块仍然可以访问这些包中的类；</p><p>（2）自动模块的所有包都被导出，且都是开放的（<code>exports</code>+<code>opens</code>）；</p><p>（3）明确模块可以访问自动模块，对于自动模块的模块名：如果在该自动模块的<code>.jar</code>文件的清单<code>META-INF/MANIFEST.MF</code>中具有键为<code>Automatic-Module-Name</code>（自动模块名）的项，那么它的值会变为模块名；否则，<code>.jar</code>文件的文件名就是自动模块名，并且文件名中尾部的版本号会被删除，并将非字母数字的字符替换为句点<code>.</code>。</p><p>例如，我们正在实现一个处理<code>.csv</code>文件的模块，其中依赖了<code>Apache Commons CSV</code>库，这个库对应的<code>.jar</code>文件是<code>commons.csv-1.5.jar</code>，但是<code>commons.csv-1.5.jar</code>文件是自动模块。</p><p>如果它的清单文件<code>META-INF/MANIFEST.MF</code>中没有键为<code>Automatic-Module-Name</code>（自动模块名）的项，那么在我们的模块声明中就应该使用<code>commons.csv</code>作为它的模块名：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.automod{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> commons.csv;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>如果它的清单文件<code>META-INF/MANIFEST.MF</code>中有键为<code>Automatic-Module-Name</code>（自动模块名）的项，并且设置为它的顶级包名：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Automatic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Module</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.apache.commons.csv</span></span></code></pre></div><p>那么在我们的模块声明中就应该使用<code>org.apache.commons.csv</code>作为它的模块名：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v2ch09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.automod{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.apache.commons.csv;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="不具名模块" tabindex="-1">不具名模块 <a class="header-anchor" href="#不具名模块" aria-label="Permalink to &quot;不具名模块&quot;">​</a></h3><p>任何不在模块路径中的<code>.jar</code>文件都被该模块视为不具名模块。可能会有多个不具名模块，它们合起来也是单个不具名模块。不具名模块具有以下属性：</p><p>（1）不具名模块隐式地包含对其他明确模块的<code>requires</code>子句，并且对于明确模块中没有导出的包，该不具名模块仍然可以访问这些包中的类；</p><p>（2）不具名模块的所有包都被导出，且都是开放的（<code>exports</code>+<code>opens</code>）；</p><p>（3）明确模块不能访问不具名模块；</p><p>（4）自动模块可以访问不具名模块，因为它们的依赖关系放在类路径中。</p><h3 id="传递的需求" tabindex="-1">传递的需求 <a class="header-anchor" href="#传递的需求" aria-label="Permalink to &quot;传递的需求&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> javafx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.controls{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    requires</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> transitive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javafx.base;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>现在，任何声明需要<code>javafx.controls</code>的模块都会自动的需要<code>javafx.base</code>模块。</p><h3 id="限定导出和开放" tabindex="-1">限定导出和开放 <a class="header-anchor" href="#限定导出和开放" aria-label="Permalink to &quot;限定导出和开放&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> javafx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.base{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.sun.javafx.collections </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">to</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        javafx.controls, javafx.graphics, javafx.fxml, javafx.swing;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这样的语句被称为限定导出，所列的模块可以访问<code>com.sun.javafx.collections</code>包，其他模块不能访问。</p><p>类似地，也可以将<code>opens</code>语句限制到具体的模块。</p><h3 id="操作模块的工具" tabindex="-1">操作模块的工具 <a class="header-anchor" href="#操作模块的工具" aria-label="Permalink to &quot;操作模块的工具&quot;">​</a></h3><h4 id="jdeps工具" tabindex="-1"><code>jdeps</code>工具 <a class="header-anchor" href="#jdeps工具" aria-label="Permalink to &quot;`jdeps`工具&quot;">​</a></h4><p>该工具可以分析给定的<code>.jar</code>文件集之间的依赖关系。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jdeps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  A.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  B.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  C.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Test.jar</span></span></code></pre></div><h4 id="jlink工具" tabindex="-1"><code>jlink</code>工具 <a class="header-anchor" href="#jlink工具" aria-label="Permalink to &quot;`jlink`工具&quot;">​</a></h4><p>该工具可以产生执行时无须单独的java运行时环境的应用程序。所产生的镜像文件要比整个JDK小得多。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jlink</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --module-path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> A.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">B.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Test.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;$JAVA_HOME</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\j</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mods --add-modules Test --output .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ave2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ave3</span></span></code></pre></div><p>运行：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">save3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Test</span></span></code></pre></div><p><code>jlink</code>的关键是它将运行程序所需的最小的模块集打包在一起。可以列出其中包含的所有模块：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yjava</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ave</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ave2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ave</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">3&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ava</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list-modules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModuleA</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModuleB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModuleC</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Test</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java.base@17.0.8</span></span></code></pre></div><p>所有模块都包含在运行时镜像文件<code>lib\modules</code>中。</p><p>这可以成为用于打包应用程序的实用工具的基础。我们仍旧需要产生针对多平台的文件集和针对应用程序的脚本。</p><h4 id="jmod工具" tabindex="-1"><code>jmod</code>工具 <a class="header-anchor" href="#jmod工具" aria-label="Permalink to &quot;`jmod`工具&quot;">​</a></h4><h3 id="用于迁移的命令行标识" tabindex="-1">用于迁移的命令行标识 <a class="header-anchor" href="#用于迁移的命令行标识" aria-label="Permalink to &quot;用于迁移的命令行标识&quot;">​</a></h3><h2 id="工程与模块" tabindex="-1">工程与模块 <a class="header-anchor" href="#工程与模块" aria-label="Permalink to &quot;工程与模块&quot;">​</a></h2><p>假设你的java项目中，最顶级模块的名称为<code>corejava</code>，它是一个目录名称。这个目录又放在一个名为<code>corejava</code>的目录中。</p><p>现在要在IDEA中，要打开一个工程。这个工程的目录名称就是你的最顶级模块（第二个<code>corejava</code>）的目录名称。</p><p>如果是第一个<code>corejava</code>的目录名称，IDEA会将第一个<code>corejava</code>当作模块名称。又因为子目录中还有一个模块<code>corejava</code>，所以会报错，所有的子模块都不能被识别，因此无法运行任何类的<code>main</code>方法。</p><h2 id="path和classpath" tabindex="-1"><code>PATH</code>和<code>CLASSPATH</code> <a class="header-anchor" href="#path和classpath" aria-label="Permalink to &quot;`PATH`和`CLASSPATH`&quot;">​</a></h2><p><strong>环境变量PATH是什么，对java有什么用？</strong></p><p><a href="https://docs.oracle.com/javase/tutorial/essential/environment/paths.html" target="_blank" rel="noreferrer">https://docs.oracle.com/javase/tutorial/essential/environment/paths.html</a></p><p><a href="https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762" target="_blank" rel="noreferrer">https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762</a></p><p><a href="https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.3" target="_blank" rel="noreferrer">https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.3</a></p><h3 id="path" tabindex="-1"><code>PATH</code> <a class="header-anchor" href="#path" aria-label="Permalink to &quot;`PATH`&quot;">​</a></h3><h4 id="设置path" tabindex="-1">设置<code>PATH</code> <a class="header-anchor" href="#设置path" aria-label="Permalink to &quot;设置`PATH`&quot;">​</a></h4><p>可以使用以下命令来检查<code>PATH</code>中是否包含java路径。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -version</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --v</span></span></code></pre></div><p>jdk安装目录的<code>/bin</code>子目录下，包含等一系列<strong>jdk工具</strong>，例如：java编译器（<code>javac.exe</code>）、java启动器（<code>java.exe</code>）、<code>jar</code>、<code>javadoc</code>等。</p><p>1、以Windows系统为例：</p><p>（1）实际上可以不设置环境变量<code>PATH</code>，只要知道编译器<code>javac.exe</code>的绝对路径即可。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编译: &lt;path of javac.exe&gt; &lt;fileName of .java&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C:\Java\jdk1.7.0\bin\javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyClass.java</span></span></code></pre></div><p>（2）但是，要在任何地方使用以下命令编译或允许java程序，就必须设置环境变量<code>PATH</code>：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyClass.java</span></span></code></pre></div><p>这是因为系统不知道<code>javac.exe</code>（<code>javac</code>命令被认为对于<code>javac.exe</code>可执行文件）在哪里，所以会到环境变量<code>PATH</code>指定的一系列路径下查找。</p><p>（3）<code>PATH</code>是一系列用分号<code>;</code>分隔的目录（Linux系统下为冒号<code>:</code>）。系统按从左到右的顺序在<code>PATH</code>目录中查找程序。如果找到了，则之后的目录会被忽略。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># PATH示例</span></span>
<span class="line"><span>C:\Java\jdk1.7.0\bin;C:\Windows\System32\;C:\Windows\;C:\Windows\System32\Wbem</span></span></code></pre></div><p>2、以Linux系统为例：</p><p>（1）首先更改<code>~/.bashrc</code>文件，添加下面两行。注意：在linux系统中，<code>PATH</code>是一系列用冒号<code>:</code>分隔的目录（Windows系统下为分号<code>;</code>）。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>PATH=C:\Java\jdk1.7.0\bin:$PATH</span></span>
<span class="line"><span>export PATH</span></span></code></pre></div><p>（2）然后执行<code>~/.bashrc</code>文件，以更新配置：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><h3 id="classpath" tabindex="-1"><code>CLASSPATH</code> <a class="header-anchor" href="#classpath" aria-label="Permalink to &quot;`CLASSPATH`&quot;">​</a></h3><p><code>CLASSPATH</code>也是环境变量。</p><p>1、设置<code>CLASSPATH</code>变量的方法与<code>PATH</code>相同。要检查是否定义了<code>CLASSPATH</code>变量，可以使用以下命令：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> %CLASSPATH%</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> %CLASSPATH</span></span></code></pre></div><p>2、变量<code>CLASSPATH</code>（类路径）是告诉应用程序（包括jdk工具）在哪里查找用户类的一种方法。==属于jre、jdk平台和扩展的类应该通过其他方式定义，例如引导类路径或扩展目录==。</p><p>3、指定<code>CLASSPATH</code>的首选方法是使用<code>-cp</code>或<code>-classpath</code>命令行开关，这样就可以为每个应用程序单独设置<code>CLASSPATH</code>，而不影响其他应用程序。</p><p>4、<code>CLASSPATH</code>的默认值是<code>.</code>，表示只搜索当前目录。定义了<code>CLASSPATH</code>变量或使用<code>-cp</code>（<code>-classpath</code>）命令行开关指定了类路径后，会覆盖该值。</p><p>==思考：当前目录是什么？==</p><p>5、<code>CLASSPATH</code>可以是包含<code>.jar</code>文件的目录。</p><p>类路径是java运行时环境（jre）搜索类文件、jar文件、zip文件和其他资源文件的路径。<code>CLASSPATH</code>变量指定了类路径。</p><p>每个类路径应以文件名或目录结尾：</p><p>（1）对于包含类文件的jar或zip文件，类路径以jar或zip文件的名称结尾；</p><p>（2）对于未命名包中的类文件，类路径以包含类文件的目录结尾；</p><p>（3）对于命名包中的类文件，类路径以包含根包的目录结尾，根包是完整包名称中的第一个包。</p></div></div></main><footer class="VPDocFooter" data-v-95d215ae data-v-19c972ee><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-19c972ee><span class="visually-hidden" id="doc-footer-aria-label" data-v-19c972ee>Pager</span><div class="pager" data-v-19c972ee><a class="VPLink link pager-link prev" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter1.html" data-v-19c972ee><!--[--><span class="desc" data-v-19c972ee>Previous page</span><span class="title" data-v-19c972ee>Java 简介</span><!--]--></a></div><div class="pager" data-v-19c972ee><a class="VPLink link pager-link next" href="/JAVA/%E5%9F%BA%E7%A1%80/chapter11.html" data-v-19c972ee><!--[--><span class="desc" data-v-19c972ee>Next page</span><span class="title" data-v-19c972ee>反射</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"database_mysql_chap06.md\":\"BbUIwKK1\",\"database_mysql_chap12.md\":\"M9_om4eA\",\"database_mysql_chap11.md\":\"B5SJAVry\",\"database_mysql_chap13.md\":\"Direv8j1\",\"database_mysql_chap01.md\":\"Ci1qcRa7\",\"database_mysql_chap18.md\":\"Dp9DnuJH\",\"database_mysql_chap00.md\":\"BM8HNyfJ\",\"intro.md\":\"CkJCjlR6\",\"database_mysql_chap02.md\":\"t5_m2sdP\",\"database_mysql_chap05.md\":\"BmfYVg8N\",\"database_mysql_chap08.md\":\"sjugScbW\",\"database_mysql_chap14.md\":\"vpLkgWJY\",\"database_mysql_chap09.md\":\"DTmlon-9\",\"java_基础_chapter13.md\":\"B5Mu2Hxf\",\"database_mysql_chap07.md\":\"CY0oFLGW\",\"database_mysql_chap10.md\":\"BYrjNhNU\",\"java_基础_chapter1.md\":\"BBo1m5R8\",\"database_mysql_chap17.md\":\"BDfbhkAb\",\"readme.md\":\"BbvCBKSX\",\"java_集合框架_collection_priorityqueue.md\":\"CFfvWL8S\",\"database_mysql_chap03.md\":\"BXtr4_5m\",\"java_基础_chapter2.md\":\"Deh0e1e_\",\"java_基础_chapter12.md\":\"BGVQjt7d\",\"database_mysql_chap16.md\":\"DZxrX8xf\",\"java_基础_chapter9.md\":\"BlWzp7p1\",\"index.md\":\"Bs8sgi3X\",\"java_集合框架_collection_arraydeque.md\":\"BYqqXK0m\",\"java_基础_chapter5.md\":\"CokY6fk0\",\"database_mysql_chap04.md\":\"RxuYHuCd\",\"springboot_chapter1.md\":\"DV65ecMJ\",\"java_基础_chapter7.md\":\"DqrtA3Hv\",\"database_mysql_chap15.md\":\"CdqqOT2H\",\"java_基础_chapter6.md\":\"D18DAQog\",\"java_基础_chapter11.md\":\"BMfuAG32\",\"java_基础_chapter10.md\":\"CgD2EtbK\",\"java_集合框架_collection-arraylist.md\":\"B9XfulVZ\",\"java_基础_chapter4.md\":\"B9AvAT9S\",\"java_集合框架_collection_linkedlist.md\":\"Dns1xqGf\",\"java_基础_chapter3.md\":\"CjIU5EpI\",\"java_基础_chapter14.md\":\"Div61QB6\",\"java_基础_chapter8.md\":\"VRf9RRMy\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"LWG Study\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://gitee.com/gasj0ee/java_No1_knowledge/tree/master/\"}],\"nav\":[{\"text\":\"SpringBoot\",\"activeMatch\":\"/SpringBoot/\",\"link\":\"/SpringBoot/chapter1\"},{\"text\":\"DATABASE\",\"activeMatch\":\"/DATABASE/\",\"link\":\"/DATABASE/MySQL/chap00\"},{\"text\":\"JAVA\",\"activeMatch\":\"/JAVA/\",\"link\":\"/JAVA/基础/chapter1\"}],\"sidebar\":{\"/SpringBoot/\":[{\"text\":\"chapter1\",\"link\":\"/SpringBoot/chapter1\"}],\"/DATABASE/\":[{\"text\":\"MySQL\",\"collapsed\":false,\"items\":[{\"text\":\"MySQL 底层数据结构：B+树\",\"link\":\"/DATABASE/MySQL/chap00\"},{\"text\":\"MySQL基础架构\",\"link\":\"/DATABASE/MySQL/chap01\"},{\"text\":\"MySQL日志系统\",\"link\":\"/DATABASE/MySQL/chap02\"},{\"text\":\"事务隔离\",\"link\":\"/DATABASE/MySQL/chap03\"},{\"text\":\"索引\",\"link\":\"/DATABASE/MySQL/chap04\"},{\"text\":\"全局锁和表锁\",\"link\":\"/DATABASE/MySQL/chap05\"},{\"text\":\"行锁\",\"link\":\"/DATABASE/MySQL/chap06\"},{\"text\":\"事务是否需要隔离\",\"link\":\"/DATABASE/MySQL/chap07\"},{\"text\":\"普通索引和唯一索引\",\"link\":\"/DATABASE/MySQL/chap08\"},{\"text\":\"MySQL为什么会选错索引？\",\"link\":\"/DATABASE/MySQL/chap09\"},{\"text\":\"如何给字符串加索引？\",\"link\":\"/DATABASE/MySQL/chap10\"},{\"text\":\"为什么 MySQL 会“抖”一下\",\"link\":\"/DATABASE/MySQL/chap11\"},{\"text\":\"MySQL数据库表的空间回收\",\"link\":\"/DATABASE/MySQL/chap12\"},{\"text\":\"count(\\\\*)语句\",\"link\":\"/DATABASE/MySQL/chap13\"},{\"text\":\"日志和索引相关问题\",\"link\":\"/DATABASE/MySQL/chap14\"},{\"text\":\"order by 是如何工作的\",\"link\":\"/DATABASE/MySQL/chap15\"},{\"text\":\"如何正确显示随机消息\",\"link\":\"/DATABASE/MySQL/chap16\"},{\"text\":\"为什么 SQL 语句逻辑相同，但性能却差异巨大？\",\"link\":\"/DATABASE/MySQL/chap17\"},{\"text\":\"为什么查询一行的语句，执行也会很慢\",\"link\":\"/DATABASE/MySQL/chap18\"}]}],\"/JAVA/\":[{\"text\":\"集合框架\",\"collapsed\":false,\"items\":[{\"text\":\"ArrayList源码解析\",\"link\":\"/JAVA/集合框架/Collection-ArrayList\"},{\"text\":\"Stack & Queue (采用 ArrayDeque 实现)\",\"link\":\"/JAVA/集合框架/Collection_ArrayDeque\"},{\"text\":\"Collection - LinkedList 源码解析\",\"link\":\"/JAVA/集合框架/Collection_LinkedList\"},{\"text\":\"PriorityQueue 源码解析\",\"link\":\"/JAVA/集合框架/Collection_PriorityQueue\"}]},{\"text\":\"基础\",\"collapsed\":false,\"items\":[{\"text\":\"Java 简介\",\"link\":\"/JAVA/基础/chapter1\"},{\"text\":\"类、源文件、包、jar、模块、工程\",\"link\":\"/JAVA/基础/chapter10\"},{\"text\":\"反射\",\"link\":\"/JAVA/基础/chapter11\"},{\"text\":\"异常和断言\",\"link\":\"/JAVA/基础/chapter12\"},{\"text\":\"日志\",\"link\":\"/JAVA/基础/chapter13\"},{\"text\":\"集合\",\"link\":\"/JAVA/基础/chapter14\"},{\"text\":\"Java 基本程序设计结构\",\"link\":\"/JAVA/基础/chapter2\"},{\"text\":\"类\",\"link\":\"/JAVA/基础/chapter3\"},{\"text\":\"接口\",\"link\":\"/JAVA/基础/chapter4\"},{\"text\":\"lambda表达式\",\"link\":\"/JAVA/基础/chapter5\"},{\"text\":\"内部类\",\"link\":\"/JAVA/基础/chapter6\"},{\"text\":\"代理\",\"link\":\"/JAVA/基础/chapter7\"},{\"text\":\"泛型\",\"link\":\"/JAVA/基础/chapter8\"},{\"text\":\"关键字\",\"link\":\"/JAVA/基础/chapter9\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>